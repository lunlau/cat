# 说明
##制作方法
```
您只需要为插件提供一个接口即可。

它至少应包含一个Activate-Methode（入口点），但是您还需要诸如Initialize之类的东西。

并且应该有可能以类似注册表的方式与主机应用程序进行通信，例如注册菜单项。因此，应提供可更改/可扩展的插件注册表。

另外，主机应用程序的数据和对象应该有一些可访问的存储，以便插件可以调用其例程。这可以通过使用像Unity这样的DI容器并让插件访问它来轻松完成，以便他们可以解析所需的服务。

Event-Aggregator可能也是一个好主意，因此插件可以引发事件并以分离的方式对来自其他插件和主机应用程序的事件做出反应。你一定要一个！

///
有点取决于您的平台，但请记住一些常规事项

版本控制 如果您更新应用程序，所有旧插件都会过时（firefox问题）会发生什么？

隔离 插件可以做什么吗？你一直信任他们吗？还是您需要在某种沙箱中运行它们并请求权限。

更新 您如何处理插件更新？

安全 您如何确保插件作者，防止欺骗或欺骗用户安装恶意代码。通常通过某种代码签名来解决

序列化 通常，当您使用某种隔离时，您需要在不同线程或进程之间序列化信息。您如何最有效地做到这一点？

可扩展性 您需要扩展哪些方面？如何在不使API变得笨拙的情况下最大程度地发挥插件的潜力。

如果您将第三方开发人员作为插件的目标，我想说（从我的经验来看）最重要的是将插件api和类与应用程序的其余部分完全区分开，并使其易于开发尽可能。从主应用程序进行架构到将其“渗入”插件非常容易，因此插件作者必须学习的知识远远超过了他们所需要的。让他们轻松一点，考虑一下您想作为插件作者使用什么样的界面和体验。

另一个很好的心态不是像“插件将完成所有这些事情（以代码形式），而是“插件需要提供此信息”。”这样，应用程序可以使用必要的信息并进行实际处理，从而简化插件。

同样，通常，只要您能采用描述性方法（元数据，例如xml）而不是代码，就具有很大的优势，因为元数据更易于传输，版本化，部署，安全并且可以更轻松地由第三方配置
一般模式是这样的
您在主机和扩展之间定义一个契约（通常是一个接口）
您需要一种发现机制，该机制会消失并寻找已安装的扩展
您需要能够动态加载扩展并使主机知道它们
```


### log


